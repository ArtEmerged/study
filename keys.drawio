<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36" version="26.2.13">
  <diagram name="Страница — 1" id="Ii88KUtUh1wlncuiBsRQ">
    <mxGraphModel dx="-293" dy="-52" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="583" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="xC6mqs9Nte8zSChUiDcR-127" value="wb-integration-svc" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2853" y="1145" width="198" height="75" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-128" value="API заказов" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2618" y="1557" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-129" value="API остатков" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2118" y="1211" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-130" value="nnnz-consumer-svc" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2375" y="1557" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-131" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2052" y="2165" as="sourcePoint" />
            <mxPoint x="2052" y="955" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-200" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-132" target="xC6mqs9Nte8zSChUiDcR-171">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-132" value="Kafka WBD" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="2395" y="1383" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-133" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-128" target="xC6mqs9Nte8zSChUiDcR-130">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2450" y="1372" as="sourcePoint" />
            <mxPoint x="2500" y="1322" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-134" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="xC6mqs9Nte8zSChUiDcR-132">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2434.58" y="1557" as="sourcePoint" />
            <mxPoint x="2434.58" y="1451" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-135" value="POST /order/selection" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2498" y="1620" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-136" value="order.keys.prod" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2332" y="1479" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-137" value="wb-purchase-svc" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3123" y="1160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-204" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-138" target="xC6mqs9Nte8zSChUiDcR-137">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2952" y="1340" />
              <mxPoint x="3183" y="1340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-138" value="PostgreSQL" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="2915" y="1372" width="74" height="82" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-140" value="wb-integration-worker&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2600" y="1383" width="156" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-141" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-132" target="xC6mqs9Nte8zSChUiDcR-140">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2502" y="1373" as="sourcePoint" />
            <mxPoint x="2755" y="1295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-142" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-140" target="xC6mqs9Nte8zSChUiDcR-138">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2844" y="1347" as="sourcePoint" />
            <mxPoint x="2894" y="1297" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2834" y="1413" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-143" value="Сервисы" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3498" y="948" width="349" height="490" as="geometry">
            <mxRectangle x="3498" y="948" width="85" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-144" value="&lt;span style=&quot;text-align: center;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;nnnz-consumer-svc:&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-143">
          <mxGeometry y="30" width="349" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-145" value="&lt;div style=&quot;&quot;&gt;Сервис принимает заказы из ННСЗ по REST, отправляет в нашу кафку сообщение о новом заказе, в случае успешной публикации отдает ННСЗ ответ с статус кодом 202&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-143">
          <mxGeometry y="60" width="349" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-146" value="&lt;span style=&quot;text-align: center;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;wb-integration-worker:&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-143">
          <mxGeometry y="110" width="349" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-147" value="&lt;span style=&quot;&quot;&gt;Проводит основную работу по обработке заказов из ННСЗ:&lt;br&gt;- получает заказ из кафки&lt;br&gt;- резервирует ключ за клиентом если есть в наличии&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;- отвечает в API заказов обратно результат какие ключи получилось зарезервировать&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-143">
          <mxGeometry y="140" width="349" height="110" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-148" value="&lt;span style=&quot;text-align: center;&quot;&gt;wb-sync-worker:&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-143">
          <mxGeometry y="250" width="349" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-149" value="Получает из кафки контента карточки и кладёт карточки и селлеров цифровых товаров в БД" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-143">
          <mxGeometry y="280" width="349" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-150" value="&lt;span style=&quot;text-align: center;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;wb-purchase-svc:&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-143">
          <mxGeometry y="330" width="349" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-151" value="Отдает купленные заказы из таблицы &lt;i&gt;&lt;font style=&quot;color: rgb(255, 51, 51);&quot;&gt;wbdigital_purchased_key&lt;/font&gt;&lt;/i&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-143">
          <mxGeometry y="360" width="349" height="45" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-152" value="&lt;span style=&quot;text-align: center;&quot;&gt;wb-stock-svc:&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-143">
          <mxGeometry y="405" width="349" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-153" value="Получает запрос на обновление остатков из кафки, отправляет их в систему остатков и обновляет у себя в БД метку обновления" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-143">
          <mxGeometry y="435" width="349" height="55" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-154" value="API сайта" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="3354" y="1160" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-155" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-154" target="xC6mqs9Nte8zSChUiDcR-137">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2922" y="1224" as="sourcePoint" />
            <mxPoint x="2972" y="1174" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-156" value="GET /keys/{rid}" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="3240" y="1140" width="114" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-157" value="dev.wildberries.ru" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2879.5" y="991" width="145" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-158" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-127" target="xC6mqs9Nte8zSChUiDcR-157">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2961" y="1133" as="sourcePoint" />
            <mxPoint x="3006" y="1354" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-159" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-138" target="xC6mqs9Nte8zSChUiDcR-127">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2879" y="1347" as="sourcePoint" />
            <mxPoint x="2929" y="1297" as="targetPoint" />
            <Array as="points">
              <mxPoint x="2880" y="1413" />
              <mxPoint x="2880" y="1280" />
              <mxPoint x="2952" y="1280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-160" value="Kafka WB" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2912" y="1640" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-161" value="wb-sync-worker&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2874" y="1530" width="156" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-162" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-161" target="xC6mqs9Nte8zSChUiDcR-138">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2878" y="1425" as="sourcePoint" />
            <mxPoint x="2928" y="1375" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-163" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-160" target="xC6mqs9Nte8zSChUiDcR-161">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2878" y="1425" as="sourcePoint" />
            <mxPoint x="2928" y="1375" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-164" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-140" target="xC6mqs9Nte8zSChUiDcR-128">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2780" y="1528" as="sourcePoint" />
            <mxPoint x="2830" y="1478" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-165" value="POST /order/assemble" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2686" y="1486" width="148" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-166" value="REST для отправки ключей" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2954" y="1081" width="154" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-168" value="Обновление остатков" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2472" y="1250" width="97" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-199" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-171" target="xC6mqs9Nte8zSChUiDcR-129">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-171" value="wb-stock-svc" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2110" y="1387.75" width="136" height="50.5" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-175" value="order.keys.prod" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2485" y="1375" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-176" value="stocks.prod" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2270" y="1383" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-178" value="stocks.prod" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2472" y="1280" width="93" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-181" value="БД" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3498" y="1479" width="349" height="254" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-182" value="&lt;span style=&quot;text-align: center;&quot;&gt;PostgreSQL:&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;fontSize=16;fontStyle=1" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-181">
          <mxGeometry y="30" width="349" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-183" value="&lt;div style=&quot;text-align: center;&quot;&gt;Основная БД системы учета&amp;nbsp;wbdigital-integration-pgsql&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-181">
          <mxGeometry y="70" width="349" height="34" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-184" value="&lt;span style=&quot;text-align: center;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Kafka WBD:&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-181">
          <mxGeometry y="104" width="349" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-185" value="&lt;span style=&quot;&quot;&gt;Кафка проекта WB Цифровой для внутреннего использования&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-181">
          <mxGeometry y="134" width="349" height="45" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-186" value="&lt;span style=&quot;text-align: center;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Kafka WB:&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-181">
          <mxGeometry y="179" width="349" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-187" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Кафка контента WB для получения карточек WB с целью валидации на цифровую категорию&amp;nbsp;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;whiteSpace=wrap;html=1;" vertex="1" parent="xC6mqs9Nte8zSChUiDcR-181">
          <mxGeometry y="209" width="349" height="45" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-188" value="Система цифрового склада" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" edge="1" parent="1">
          <mxGeometry x="-0.0007" width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2060" y="948" as="sourcePoint" />
            <mxPoint x="3847" y="948" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-189" value="&lt;meta charset=&quot;utf-8&quot;&gt;&lt;div style=&quot;color: #cccccc;background-color: #1f1f1f;font-family: Menlo, Monaco, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 12px;line-height: 18px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;table&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;sellers&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    seller_id  &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;PRIMARY KEY&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    wb_user_id &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;UNIQUE&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    created_at &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;timestamp with time zone&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; CURRENT_TIMESTAMP&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;table&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;stock&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    id              &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigserial&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;PRIMARY KEY&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    seller_id       &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;CONSTRAINT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; fk_sellers_seller_id &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;REFERENCES&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; sellers,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    nm_id           &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;                &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    banned          &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;boolean&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; false &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    option_id       &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;                &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;, &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    keys_updated_at &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;timestamp with time zone&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;order_status&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;AS&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; ENUM (&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&#39;CREATED&#39;&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&#39;COMPLETED&#39;&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&#39;CANCELED&#39;&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;table&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;orders&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    id         &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigserial&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;PRIMARY KEY&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;status&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;     order_status                 &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    order_uid  &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;text&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;                     &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;UNIQUE&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    wb_user_id &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;                   &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    created_at &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;timestamp with time zone&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; CURRENT_TIMESTAMP &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;table&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;keys&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    id              &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigserial&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;PRIMARY KEY&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    nm_id           &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;              &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    seller_id       &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;              &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;CONSTRAINT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; fk_sellers_seller_id &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;REFERENCES&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; sellers,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;key&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;             &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;text&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;                &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;status&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;          &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;integer&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    created_at      &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;timestamp with time zone&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; CURRENT_TIMESTAMP &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    deleted_at      &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;timestamp with time zone&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    expiration_date &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;timestamp with time zone&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    stock_id        &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;CONSTRAINT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; fk_stock_stock_id &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;REFERENCES&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; stock,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    option_id       &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;smallint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;purchased_key_status&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;AS&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; ENUM (&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&#39;ISSUED&#39;&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&#39;VIEWED&#39;&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;table&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;purchased_keys&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    id              &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigserial&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;PRIMARY KEY&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    nm_id           &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    seller_id       &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;CONSTRAINT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; fk_sellers_seller_id_purchased &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;REFERENCES&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; sellers,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;key&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;             &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;text&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;status&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;          purchased_key_status,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    created_at      &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;timestamp with time zone&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    expiration_date &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;timestamp with time zone&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    stock_id        &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;      &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;CONSTRAINT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; fk_stock_stock_id_purchased &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;REFERENCES&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; stock,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    option_id       &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;smallint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;order_key_status&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;AS&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; ENUM (&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&#39;CREATED&#39;&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&#39;COMPLETED&#39;&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&#39;FAILED&#39;&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&#39;CANCELED&#39;&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;create&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;table&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;order_keys&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    id        &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigserial&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;PRIMARY KEY&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    order_id  &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;CONSTRAINT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; fk_orders_order_id &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;REFERENCES&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; orders,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    key_id    &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;CONSTRAINT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; fk_purchased_keys_key_id &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;REFERENCES&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; purchased_keys,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;status&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    order_key_status &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&#39;CREATED&#39;&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    rid       &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;text&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;, &lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    seller_id &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;bigint&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;CONSTRAINT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; fk_sellers_seller_id &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;REFERENCES&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; sellers,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;    created_at &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;timestamp with time zone&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; CURRENT_TIMESTAMP &lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;NOT NULL&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="1790" y="1840" width="761" height="1249" as="geometry" />
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-190" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-140" target="xC6mqs9Nte8zSChUiDcR-132">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2680" y="1383" />
              <mxPoint x="2680" y="1280" />
              <mxPoint x="2435" y="1280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-195" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-127" target="xC6mqs9Nte8zSChUiDcR-132">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2680" y="1183" />
              <mxPoint x="2680" y="1280" />
              <mxPoint x="2435" y="1280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xC6mqs9Nte8zSChUiDcR-202" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="xC6mqs9Nte8zSChUiDcR-138" target="xC6mqs9Nte8zSChUiDcR-171">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2450" y="1580" as="sourcePoint" />
            <mxPoint x="2500" y="1530" as="targetPoint" />
            <Array as="points">
              <mxPoint x="3080" y="1413" />
              <mxPoint x="3080" y="1770" />
              <mxPoint x="2178" y="1770" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
